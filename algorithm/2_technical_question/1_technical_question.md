# BUDを探す

 * ボトルネック
 * 付与な作業
 * 重複する作業

## ボトルネック

例題: 異なる整数値の配列が与えられたとき、配列の値の差がkになる組の数を数えて下さい。
たとえば{1, 7, 5, 9, 2, 12, 3}で、k = 2とするとき、4組になる。

ブルートフォース: O(N^2)
ソートしちゃう場合: O(N log N) + O(N)
→ これは2分探索することで O(N log N) + O(log N) にできるがボトルネックがあるので意味がない。

ハッシュテーブルに入れちゃえば、getで-2 +2したのを取得すればわかるのでO(N)でいける。

## 不必要な作業

例題: a^3 + b^3 = c^3 + d^3 を満たすすべての整数解 それぞれ1から1000までとする。

ブルートフォース: n^4

```
for a from 1 to 1000
    for b from 1 to 1000
        for c from 1 to 1000
            for d from 1 to 1000
                if a^3 + b^3 = c^3 + d^3
                    println()
```

dは答えが出た場合はもう答えはないのでbreakできる。が、実行時間はこれでもn^4なので影響なし。
答えはひとつなので、計算してしまえばいい。
d^3 = a^3 + b^3 - c^3

```
for a from 1 to 1000
    for b from 1 to 1000
        for c from 1 to 1000
            d = 3√(a^3 + b^3 - c^3)
            if a^3 + b^3 = c^3 + d^3 && d >0 && d <= 1000
                println()
                break
```

## 重複する作業

↑の問題に対して重複する作業を見つける。

cとdのペアの計算結果を作っておけば良いだけ。以下のような形
`result -> [(c,d)]`

そうするとO(N^2)でいける。

